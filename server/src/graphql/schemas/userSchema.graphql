scalar DateTime

enum Provider {
  EMAIL
  GOOGLE
  GITHUB
}

type Query {
  users(input: UsersInput!): UserConnection!
}

type User {
  id: ID!
  username: String!
  email: String!
  email_verified: Boolean!
  provider: Provider!
  image: String
  created_at: DateTime!
  updated_at: DateTime!

  ownedCommunities(input: UserOwnedCommunitiesInput!): CommunityConnection!
  inCommunities(input: UserInCommunitiesInput!): CommunityConnection!
  posts(input: UserPostInput!): PostConnection!
}

type UserEdge {
  node: User!
  cursor: String!
}

type UserConnection {
  edges: [UserEdge!]!
  pageInfo: PageInfo!
}

input UsersInput {
  filters: UsersFilters
  paginate: PaginateInput!
}

input UsersFilters {
  usernameContains: String
  orderBy: UserOrderBy
}

enum UserOrderByType {
  username
  postCount
}

input UserOrderBy {
  type: UserOrderByType!
  dir: OrderByDir!
}

input UserOwnedCommunitiesInput {
  paginate: PaginateInput!
}

input UserInCommunitiesInput {
  paginate: PaginateInput!
}

input UserPostInput {
  paginate: PaginateInput!
}
