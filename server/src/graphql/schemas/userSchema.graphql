scalar DateTime

type Query @rateLimit(limit: 180, duration: 60) {
  user(input: UserInput!): User
  users(input: UsersInput!): UserConnection!
  usernameExists(username: String!): Boolean!
    @rateLimit(limit: 200, duration: 60)
}

type User {
  id: ID!
  username: String!
  provider: Provider!
  created_at: DateTime!
  updated_at: DateTime!

  postsCount: Int!
  commentsCount: Int!
}

# -- USERS QUERY
input UsersInput {
  filters: UsersFilters
  paginate: PaginateInput!
}

input UsersFilters {
  usernameContains: String
  orderBy: UsersOrderBy
}

input UsersOrderBy {
  type: UserOrderByType!
}

# -- USER QUERY
input UserInput {
  username: String!
}

# -- ENUMS
enum Provider {
  USERNAME
  GOOGLE
  GITHUB
}

enum UserOrderByType {
  username
  postCount
}
